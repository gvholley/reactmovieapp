{"ast":null,"code":"import _toConsumableArray from\"/Users/gvholley/code/gvholley/reactmovieapp/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/gvholley/code/gvholley/reactmovieapp/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/gvholley/code/gvholley/reactmovieapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/gvholley/code/gvholley/reactmovieapp/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState,useEffect}from'react';import MovieList from'./components/MovieList';import MovieListHeading from'./components/MovieListHeading';import SearchBox from'./components/SearchBox';import AddFavorites from'./components/AddFavorites';import RemoveFavorites from'./components/RemoveFavorites';import'bootstrap/dist/css/bootstrap.min.css';import'./App.css';var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movies=_useState2[0],setMovies=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),favorites=_useState4[0],setFavorites=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),searchValue=_useState6[0],setSearchValue=_useState6[1];//Moved useEffect here from search\nuseEffect(function(){var getMovieRequest=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(searchValue){var url,response,responseJson;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=\"http://www.omdbapi.com/?s=\".concat(searchValue,\"&apikey=c5171cf5\");_context.next=3;return fetch(url);case 3:response=_context.sent;_context.next=6;return response.json();case 6:responseJson=_context.sent;if(responseJson.Search){setMovies(responseJson.Search);}case 8:case\"end\":return _context.stop();}}},_callee);}));return function getMovieRequest(_x){return _ref.apply(this,arguments);};}();getMovieRequest(searchValue);},[searchValue]);useEffect(function(){var movieFavorites=JSON.parse(localStorage.getItem('app-favorites'));if(movieFavorites){setFavorites(movieFavorites);}},[]);var saveToLocalStorage=function saveToLocalStorage(items){localStorage.setItem('app-favorites',JSON.stringify(items));};var addFavoriteMovie=function addFavoriteMovie(movie){var newFavoriteList=[].concat(_toConsumableArray(favorites),[movie]);setFavorites(newFavoriteList);saveToLocalStorage(newFavoriteList);};var removeFavoriteMovie=function removeFavoriteMovie(movie){var newFavoriteList=favorites.filter(function(favorite){return favorite.imdbID!==movie.imdbID;});setFavorites(newFavoriteList);saveToLocalStorage(newFavoriteList);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid movie-app\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row d-flex align-items-center mt-4 mb-4\",children:[/*#__PURE__*/_jsx(MovieListHeading,{}),/*#__PURE__*/_jsx(SearchBox,{searchValue:searchValue,setSearchValue:setSearchValue})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(MovieList,{movies:movies,handleFavoritesClick:addFavoriteMovie,favoriteComponent:AddFavorites})}),/*#__PURE__*/_jsx(\"div\",{className:\"row d-flex align-items-center watchlist\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Watchlist\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(MovieList,{movies:favorites,handleFavoritesClick:removeFavoriteMovie,favoriteComponent:RemoveFavorites})})]});};export default App;","map":{"version":3,"sources":["/Users/gvholley/code/gvholley/reactmovieapp/src/App.js"],"names":["React","useState","useEffect","MovieList","MovieListHeading","SearchBox","AddFavorites","RemoveFavorites","App","movies","setMovies","favorites","setFavorites","searchValue","setSearchValue","getMovieRequest","url","fetch","response","json","responseJson","Search","movieFavorites","JSON","parse","localStorage","getItem","saveToLocalStorage","items","setItem","stringify","addFavoriteMovie","movie","newFavoriteList","removeFavoriteMovie","filter","favorite","imdbID"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport MovieList from './components/MovieList';\nimport MovieListHeading from './components/MovieListHeading';\nimport SearchBox from './components/SearchBox';\nimport AddFavorites from './components/AddFavorites';\nimport RemoveFavorites from './components/RemoveFavorites';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\n\n\nconst App = () => {\n  const [movies, setMovies] = useState([]);\n  const [favorites, setFavorites] = useState([]);\n  const [searchValue, setSearchValue] = useState('');\n\n//Moved useEffect here from search\n  useEffect(() => {\n    const getMovieRequest = async (searchValue) => {\n    const url = `http://www.omdbapi.com/?s=${searchValue}&apikey=c5171cf5`\n    const response = await fetch(url);\n    const responseJson = await response.json();\n\n    if(responseJson.Search) {\n      setMovies(responseJson.Search);\n    }\n  };\n    getMovieRequest(searchValue);\n  }, [searchValue]);\n\n\n  useEffect(()=> {\n\n      const movieFavorites = JSON.parse(\n        localStorage.getItem('app-favorites')\n        );\n      if (movieFavorites) {\n        setFavorites(movieFavorites);\n      }\n  }, []);\n\n\n  const saveToLocalStorage = (items) => {\n    localStorage.setItem('app-favorites', JSON.stringify(items));\n  };\n\n  const addFavoriteMovie = (movie) => {\n    const newFavoriteList = [...favorites, movie];\n    setFavorites(newFavoriteList);\n    saveToLocalStorage(newFavoriteList);\n  };\n\n\n  const removeFavoriteMovie = (movie) => {\n    const newFavoriteList = favorites.filter(\n      (favorite) => favorite.imdbID !== movie.imdbID\n      );\n\n\n    setFavorites(newFavoriteList);\n    saveToLocalStorage(newFavoriteList);\n  };\n\n  return (\n    <div className='container-fluid movie-app'>\n      <div className='row d-flex align-items-center mt-4 mb-4'>\n        <MovieListHeading />\n        <SearchBox searchValue={searchValue} setSearchValue={setSearchValue} />\n      </div>\n\n     <div className='row'>\n        <MovieList\n          movies={movies}\n          handleFavoritesClick={addFavoriteMovie}\n          favoriteComponent={AddFavorites}\n        />\n      </div>\n      <div className='row d-flex align-items-center watchlist'>\n        <h1>Watchlist</h1>\n      </div>\n      <div className='row'>\n        <MovieList\n          movies={favorites}\n          handleFavoritesClick={removeFavoriteMovie}\n          favoriteComponent={RemoveFavorites}\n        />\n      </div>\n    </div>\n  );\n};\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}